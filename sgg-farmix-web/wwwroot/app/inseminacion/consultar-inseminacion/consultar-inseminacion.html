<style>
    .cursor {
        cursor: pointer;
    }
</style>
<div class="row">
    <div class="col-lg-10">
        <div style="margin-top:0px;" class="page-header">
            <h1>
                Inseminación
                <small>Consulta</small>
            </h1>
        </div>
    </div>
</div>
<!--INICIO BOTONES-->
<div class="row">
    <div class="col-lg-3 col-md-6" ng-click="obtenerHembrasParaServicio()" style="cursor:pointer;">
        <a data-toggle="tooltip" title="" data-placement="top" data-original-title="Indica la cantidad de Vacas listas para realizarles una inseminación.">
            <div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-tags fa-4x" style="font-size: 4.4em !important;"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <h1>{{init.hembrasParaServicio}}</h1>
                                <h4>Hembras para servicio</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </a>
    </div>
    <div class="col-lg-3 col-md-6" ng-click="serviciosSinConfirmar()" style="cursor:pointer;">
        <a data-toggle="tooltip" title="" data-placement="top" data-original-title="Indica la cantidad de Vacas que se las ha inseminado pero que aún no se confirmó si fue exitosa o no la inseminación. Permite ocultar o mostrar el acceso al listado de “Servicios sin Confirmar”.">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-exclamation-triangle fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <h1>{{init.serviciosSinConfirmar}}</h1>
                            <h4>Servicios sin confirmar</h4>
                        </div>
                    </div>
                </div>
            </div>
        </a>
    </div>
    <div class="col-lg-3 col-md-6" ng-click="proximosPartos()" style="cursor:pointer;">
        <a  data-toggle="tooltip" title="" data-placement="top" data-original-title="Indica la cantidad de Vacas que se encuentran preñadas y próximas a parir. Permite ocultar o mostrar el acceso al listado de “Vacas preñadas”.">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-heart fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <h1>{{init.preniadasPorParir}}</h1>
                            <h4>Preñadas por parir    </h4>
                        </div>
                    </div>
                </div>
            </div>
        </a>
    </div>
    <div class="col-lg-3 col-md-6" ng-click="obtenerLactanciasActivas()" style="cursor:pointer;">
        <a data-toggle="tooltip" title="" data-placement="top" data-original-title="Indica la cantidad de Vacas que se encuentran amamantando a sus crías.">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-check-circle-o fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <h1>{{init.lactanciasActivas}}</h1>
                            <h4>Lactancias activas</h4>
                        </div>
                    </div>
                </div>
            </div>
        </a>
    </div>
</div>
<!--FIN BOTONES-->
<div>
    <h3>Hembras para servicio <small>Listas para inseminación</small></h3>
    <ul class="list-group">
        <li class="list-group-item cursor" ng-click="obtenerHembrasParaServicio()" data-toggle="tooltip" title="" data-placement="top" data-original-title="Muestra la cantidad y permite acceder al listado de Hembras listas para ser inseminadas.">
            <span class="badge">{{init.hembrasParaServicio}}</span>
            Vacas
        </li>
    </ul>
</div>
<div ng-show="showServSinConfirm">
    <h3>Servicios sin confirmar <small>Aún no se realizó el tacto</small> <!--<small>Falta realizar tacto/ecografía</small>--></h3>
    <ul class="list-group" data-toggle="tooltip" title="" data-placement="top" data-original-title="Muestra la cantidad de servicios sin confirmación que se realizaron hace “Menos de 60 días”, “Entre 60 y 90 días” o “Más de 90”. Al seleccionar uno de los intervalos de tiempo, se muestra el listado de Servicios sin Confirmar correspondiente.">
        <li class="list-group-item cursor" ng-click="obtenerServSinConfirm('menor60')">
            <span class="badge">{{serviciosSinConfirm.menor60}}</span>
            Menos de 60 días
        </li>
        <li class="list-group-item cursor" ng-click="obtenerServSinConfirm('entre90y60')">
            <span class="badge">{{serviciosSinConfirm.entre90y60}}</span>
            Entre 60 y 90 días
        </li>
        <li class="list-group-item cursor" ng-click="obtenerServSinConfirm('mas90')">
            <span class="badge">{{serviciosSinConfirm.mas90}}</span>
            Más de 90 días
        </li>
    </ul>
</div>
<div ng-show="showProxPartos">
    <h3>Vacas preñadas <small>Próximas a parir</small></h3>
    <ul class="list-group" data-toggle="tooltip" title="" data-placement="top" data-original-title="Muestra la cantidad de vacas preñadas, cuyo parto se espera para “Dentro de 10 días”, “Dentro de 30 días” o “Dentro de 60”. Al seleccionar uno de los intervalos de tiempo, se muestra el listado de Vacas Preñadas correspondiente.">
        <li class="list-group-item cursor" ng-click="obtenerProxPartos('prox10dias')">
            <span class="badge">{{preniadasPorParir.prox10dias}}</span>
            Dentro de 10 días
        </li>
        <li class="list-group-item cursor" ng-click="obtenerProxPartos('entre10y30dias')">
            <span class="badge">{{preniadasPorParir.entre10y30dias}}</span>
            Dentro de 30 días
        </li>
        <li class="list-group-item cursor" ng-click="obtenerProxPartos('entre30y60dias')">
            <span class="badge">{{preniadasPorParir.entre30y60dias}}</span>
            Dentro de 60 días
        </li>
    </ul>
</div>
<div>
    <h3>Lactancias activas <small>Vacas que están dando de lactar</small></h3>
    <ul class="list-group" data-toggle="tooltip" title="" data-placement="top" data-original-title="Muestra la cantidad y permite acceder al listado de Lactancias activas.">
        <li class="list-group-item cursor" ng-click="obtenerLactanciasActivas()">
            <span class="badge">{{init.lactanciasActivas}}</span>
            Vacas
        </li>
    </ul>
</div>
<!--/////RESULTADOS//////-->
<legend style="margin-bottom: 5px;"
        ng-show="rowCollection.length > 0">
    Resultados
</legend>
<div ng-show="showServiciosSinConfirm">
    <div class="row col-lg-12 col-md-12" ng-show="rowCollection.length > 0">
        <div class="pull-right hidden-print" style="margin-bottom:5px">
            <button class="btn btn-success font-white" ng-click="exportarExcelServSinConfirm()" ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite exportar el listado de inseminaciones aún no confirmadas y descargar un documento en formato Excel.">
                <i class="fa fa-file-excel-o"></i>
            </button>
            <button class="btn btn-success font-white" ng-click="exportarPDFServSinConfirm()" ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite exportar el listado de inseminaciones aún no confirmadas y descargar un documento en formato PDF.">
                <i class="fa fa-file-pdf-o"></i>
            </button>
            <a class="btn btn-success font-white" href='javascript:window.print();' ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite realizar una impresión del listado de inseminaciones aún no confirmadas.">
                <i class="fa fa-print"></i>
            </a>
        </div>
        <table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-striped">
            <thead>
                <tr>
                    <th st-sort="tipoInseminacion">Tipo de Inseminación</th>
                    <th st-sort="fechaInseminacion">Fecha Inseminación</th>
                    <th st-sort="cantidadVacas">Cantidad de vacas que participaron</th>
                    <th st-sort="cantidadToros">Cantidad de toros que participaron</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in displayedCollection">
                    <td>{{item.tipoInseminacion | uppercase}}</td>
                    <td>{{item.fechaInseminacion}}</td>
                    <td>{{item.cantidadVacas}}</td>
                    <td>{{item.cantidadToros}}</td>
                    <td>
                        <a ui-sref="home.modificarInseminacion({fecha: item.fechaInseminacion, desde: 'servicioSinConfirm', tipoInseminacion: item.idTipoInseminacion})" title="Editar"><span class="fa fa-pencil"></span></a>
                        <a ui-sref="home.detalleInseminacion({fecha: item.fechaInseminacion, desde: 'servicioSinConfirm', tipoInseminacion: item.idTipoInseminacion})" title="Ver"><span class="fa fa-search"></span></a>
                        <a><span class="fa fa-trash" style="cursor:pointer" title="Eliminar" ng-click="openPopUp(item.fechaInseminacion, '')"></span></a>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="hidden-print">
                        <label for="items" ng-show="rowCollection.length > 1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite indicar la cantidad de inseminaciones a mostrar en cada página.">Registros por página</label>
                        <input class="input-sm form-control" name="items" id="items" min="1" type="number" ng-model="itemsPorPagina" ng-disabled="disabled" ng-show="rowCollection.length > 1">                        
                    </td>
                    <td colspan="5" class="text-center" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite ir cambiando la página a visualizar (en azul se indica la página actual)." ng-show="rowCollection.length > 1">
                        <div st-pagination="" st-items-by-page="itemsPorPagina" st-displayed-pages="7"></div>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
<div ng-show="showHembrasPreniadas">
    <div class="row col-lg-12 col-md-12" ng-show="rowCollection.length > 0">
        <div class="pull-right hidden-print" style="margin-bottom:5px">
            <button class="btn btn-success font-white" ng-click="exportarExcelVacasPreniadas()" ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite exportar el listado de inseminaciones cuyas vacas estan próximas a parir y descargar un documento en formato Excel.">
                <i class="fa fa-file-excel-o"></i>
            </button>
            <button class="btn btn-success font-white" ng-click="exportarPDFVacasPreniadas()" ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite exportar el listado de inseminaciones cuyas vacas estan próximas a parir y descargar un documento en formato PDF.">
                <i class="fa fa-file-pdf-o"></i>
            </button>
            <a class="btn btn-success font-white" href='javascript:window.print();' ng-disabled="disabledExportar" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite realizar una impresión del listado de inseminaciones cuyas vacas estan próximas a parir.">
                <i class="fa fa-print"></i>
            </a>
        </div>
        <table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-striped">
            <thead>
                <tr>
                    <th st-sort="tipoInseminacion">Tipo de Inseminación</th>
                    <th st-sort="fechaInseminacion">Fecha Inseminación</th>
                    <th st-sort="fechaEstimadaParto">Fecha estimada Parto</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in displayedCollection">
                    <td>{{item.tipoInseminacion | uppercase}}</td>
                    <td>{{item.fechaInseminacion}}</td>
                    <td>{{item.fechaEstimadaParto}}</td>
                    <td>
                        <a ui-sref="home.modificarInseminacion({fecha: item.fechaInseminacion, desde: 'preniez', tipoInseminacion: item.idTipoInseminacion})" title="Editar"><span class="fa fa-pencil"></span></a>
                        <a ui-sref="home.detalleInseminacion({fecha: item.fechaInseminacion, desde: 'preniez', tipoInseminacion: item.idTipoInseminacion})" title="Ver"><span class="fa fa-search"></span></a>
                        <a><span class="fa fa-trash" style="cursor:pointer" title="Eliminar" ng-click="openPopUp(item.fechaInseminacion, item.idInseminacion)"></span></a>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="hidden-print">
                        <label for="items" ng-show="rowCollection.length > 1" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite indicar la cantidad de vacas preñadas a mostrar en cada página.">Registros por página</label>
                        <input class="input-sm form-control" name="items" id="items" min="1" type="number" ng-model="itemsPorPagina" ng-disabled="disabled" ng-show="rowCollection.length > 1">                       
                    </td>
                    <td colspan="5" class="text-center" data-toggle="tooltip" title="" data-placement="top" data-original-title="Permite ir cambiando la página a visualizar (en azul se indica la página actual)." ng-show="rowCollection.length > 1">
                        <div st-pagination="" st-items-by-page="itemsPorPagina" st-displayed-pages="7"></div>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
<div id="tablaServiciosSinConfirmar"></div>
<div id="modalConfirmEliminar" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Confirmar eliminación</h4>
            </div>
            <div class="modal-body">
                <p>¿Está seguro que desea eliminar la inseminación de la fecha {{fecha}}?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" ng-click="eliminar()">Si</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="cerrar()">No</button>
            </div>
        </div>
    </div>
</div>